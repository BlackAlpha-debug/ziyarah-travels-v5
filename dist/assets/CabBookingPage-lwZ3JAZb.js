import{c as ee,s as G,r as c,t as Te,j as e,w as Ee,P as k,x as C,y as I,z as ae,A as te,D as Fe,E as Me,F as _e,G as Ae,o as L,u as De,g as Ge,N as Le,C as Oe,e as Ke,f as Be,a as Ue,h as U,i as V,k as q,l as J,n as X,B as z,W as Ve}from"./index-B3XMY-7u.js";import{L as N,P as qe,I as M}from"./label-BRjcaItF.js";import{d as re,e as j,i as Je,h as Xe,v as ze,g as Ye,j as $e,k as We,l as Ze,m as Qe,s as ea,E as aa,C as Y,P as ta,a as ra,f as $,b as oa,c as sa}from"./send-Bp54TPtX.js";import{M as W}from"./map-pin-C21BqHbt.js";import{M as na}from"./mail-BxcYXm8N.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=ee("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=ee("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),la=(a,s="https://api.emailjs.com")=>{if(!a)return;const t=re(a);j.publicKey=t.publicKey,j.blockHeadless=t.blockHeadless,j.storageProvider=t.storageProvider,j.blockList=t.blockList,j.limitRate=t.limitRate,j.origin=t.origin||s},da=a=>{if(!a||a.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},ua=a=>typeof a=="string"?document.querySelector(a):a,ma=async(a,s,t,n)=>{const i=re(n),r=i.publicKey||j.publicKey,f=i.blockHeadless||j.blockHeadless,h=j.storageProvider||i.storageProvider,x={...j.blockList,...i.blockList},u={...j.limitRate,...i.limitRate};if(f&&Je(navigator))return Promise.reject(Xe());const d=ua(t);ze(r,a,s),da(d);const l=new FormData(d);return Ye(x,l)?Promise.reject($e()):await We(location.pathname,u,h)?Promise.reject(Ze()):(l.append("lib_version","4.4.1"),l.append("service_id",a),l.append("template_id",s),l.append("user_id",r),Qe("/api/v1.0/email/send-form",l))},oe={init:la,send:ea,sendForm:ma,EmailJSResponseStatus:aa};var _="rovingFocusGroup.onEntryFocus",pa={bubbles:!1,cancelable:!0},H="RovingFocusGroup",[A,se,fa]=Te(H),[xa,ne]=G(H,[fa]),[ha,ga]=xa(H),ie=c.forwardRef((a,s)=>e.jsx(A.Provider,{scope:a.__scopeRovingFocusGroup,children:e.jsx(A.Slot,{scope:a.__scopeRovingFocusGroup,children:e.jsx(ya,{...a,ref:s})})}));ie.displayName=H;var ya=c.forwardRef((a,s)=>{const{__scopeRovingFocusGroup:t,orientation:n,loop:i=!1,dir:r,currentTabStopId:f,defaultCurrentTabStopId:h,onCurrentTabStopIdChange:x,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...l}=a,v=c.useRef(null),o=I(s,v),m=ae(r),[g,p]=te({prop:f,defaultProp:h??null,onChange:x,caller:H}),[R,P]=c.useState(!1),y=Fe(u),S=se(t),E=c.useRef(!1),[we,K]=c.useState(0);return c.useEffect(()=>{const b=v.current;if(b)return b.addEventListener(_,y),()=>b.removeEventListener(_,y)},[y]),e.jsx(ha,{scope:t,orientation:n,dir:m,loop:i,currentTabStopId:g,onItemFocus:c.useCallback(b=>p(b),[p]),onItemShiftTab:c.useCallback(()=>P(!0),[]),onFocusableItemAdd:c.useCallback(()=>K(b=>b+1),[]),onFocusableItemRemove:c.useCallback(()=>K(b=>b-1),[]),children:e.jsx(k.div,{tabIndex:R||we===0?-1:0,"data-orientation":n,...l,ref:o,style:{outline:"none",...a.style},onMouseDown:C(a.onMouseDown,()=>{E.current=!0}),onFocus:C(a.onFocus,b=>{const Pe=!E.current;if(b.target===b.currentTarget&&Pe&&!R){const B=new CustomEvent(_,pa);if(b.currentTarget.dispatchEvent(B),!B.defaultPrevented){const F=S().filter(w=>w.focusable),ke=F.find(w=>w.active),He=F.find(w=>w.id===g),Ie=[ke,He,...F].filter(Boolean).map(w=>w.ref.current);de(Ie,d)}}E.current=!1}),onBlur:C(a.onBlur,()=>P(!1))})})}),ce="RovingFocusGroupItem",le=c.forwardRef((a,s)=>{const{__scopeRovingFocusGroup:t,focusable:n=!0,active:i=!1,tabStopId:r,children:f,...h}=a,x=Ee(),u=r||x,d=ga(ce,t),l=d.currentTabStopId===u,v=se(t),{onFocusableItemAdd:o,onFocusableItemRemove:m,currentTabStopId:g}=d;return c.useEffect(()=>{if(n)return o(),()=>m()},[n,o,m]),e.jsx(A.ItemSlot,{scope:t,id:u,focusable:n,active:i,children:e.jsx(k.span,{tabIndex:l?0:-1,"data-orientation":d.orientation,...h,ref:s,onMouseDown:C(a.onMouseDown,p=>{n?d.onItemFocus(u):p.preventDefault()}),onFocus:C(a.onFocus,()=>d.onItemFocus(u)),onKeyDown:C(a.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){d.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const R=Ra(p,d.orientation,d.dir);if(R!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let y=v().filter(S=>S.focusable).map(S=>S.ref.current);if(R==="last")y.reverse();else if(R==="prev"||R==="next"){R==="prev"&&y.reverse();const S=y.indexOf(p.currentTarget);y=d.loop?ja(y,S+1):y.slice(S+1)}setTimeout(()=>de(y))}}),children:typeof f=="function"?f({isCurrentTabStop:l,hasTabStop:g!=null}):f})})});le.displayName=ce;var va={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ba(a,s){return s!=="rtl"?a:a==="ArrowLeft"?"ArrowRight":a==="ArrowRight"?"ArrowLeft":a}function Ra(a,s,t){const n=ba(a.key,t);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return va[n]}function de(a,s=!1){const t=document.activeElement;for(const n of a)if(n===t||(n.focus({preventScroll:s}),document.activeElement!==t))return}function ja(a,s){return a.map((t,n)=>a[(s+n)%a.length])}var Na=ie,Ca=le,O="Radio",[Sa,ue]=G(O),[wa,Pa]=Sa(O),me=c.forwardRef((a,s)=>{const{__scopeRadio:t,name:n,checked:i=!1,required:r,disabled:f,value:h="on",onCheck:x,form:u,...d}=a,[l,v]=c.useState(null),o=I(s,p=>v(p)),m=c.useRef(!1),g=l?u||!!l.closest("form"):!0;return e.jsxs(wa,{scope:t,checked:i,disabled:f,children:[e.jsx(k.button,{type:"button",role:"radio","aria-checked":i,"data-state":he(i),"data-disabled":f?"":void 0,disabled:f,value:h,...d,ref:o,onClick:C(a.onClick,p=>{i||x?.(),g&&(m.current=p.isPropagationStopped(),m.current||p.stopPropagation())})}),g&&e.jsx(xe,{control:l,bubbles:!m.current,name:n,value:h,checked:i,required:r,disabled:f,form:u,style:{transform:"translateX(-100%)"}})]})});me.displayName=O;var pe="RadioIndicator",fe=c.forwardRef((a,s)=>{const{__scopeRadio:t,forceMount:n,...i}=a,r=Pa(pe,t);return e.jsx(Me,{present:n||r.checked,children:e.jsx(k.span,{"data-state":he(r.checked),"data-disabled":r.disabled?"":void 0,...i,ref:s})})});fe.displayName=pe;var ka="RadioBubbleInput",xe=c.forwardRef(({__scopeRadio:a,control:s,checked:t,bubbles:n=!0,...i},r)=>{const f=c.useRef(null),h=I(f,r),x=_e(t),u=Ae(s);return c.useEffect(()=>{const d=f.current;if(!d)return;const l=window.HTMLInputElement.prototype,o=Object.getOwnPropertyDescriptor(l,"checked").set;if(x!==t&&o){const m=new Event("click",{bubbles:n});o.call(d,t),d.dispatchEvent(m)}},[x,t,n]),e.jsx(k.input,{type:"radio","aria-hidden":!0,defaultChecked:t,...i,tabIndex:-1,ref:h,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});xe.displayName=ka;function he(a){return a?"checked":"unchecked"}var Ha=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],T="RadioGroup",[Ia,Ba]=G(T,[ne,ue]),ge=ne(),ye=ue(),[Ta,Ea]=Ia(T),ve=c.forwardRef((a,s)=>{const{__scopeRadioGroup:t,name:n,defaultValue:i,value:r,required:f=!1,disabled:h=!1,orientation:x,dir:u,loop:d=!0,onValueChange:l,...v}=a,o=ge(t),m=ae(u),[g,p]=te({prop:r,defaultProp:i??null,onChange:l,caller:T});return e.jsx(Ta,{scope:t,name:n,required:f,disabled:h,value:g,onValueChange:p,children:e.jsx(Na,{asChild:!0,...o,orientation:x,dir:m,loop:d,children:e.jsx(k.div,{role:"radiogroup","aria-required":f,"aria-orientation":x,"data-disabled":h?"":void 0,dir:m,...v,ref:s})})})});ve.displayName=T;var be="RadioGroupItem",Re=c.forwardRef((a,s)=>{const{__scopeRadioGroup:t,disabled:n,...i}=a,r=Ea(be,t),f=r.disabled||n,h=ge(t),x=ye(t),u=c.useRef(null),d=I(s,u),l=r.value===i.value,v=c.useRef(!1);return c.useEffect(()=>{const o=g=>{Ha.includes(g.key)&&(v.current=!0)},m=()=>v.current=!1;return document.addEventListener("keydown",o),document.addEventListener("keyup",m),()=>{document.removeEventListener("keydown",o),document.removeEventListener("keyup",m)}},[]),e.jsx(Ca,{asChild:!0,...h,focusable:!f,active:l,children:e.jsx(me,{disabled:f,required:r.required,checked:l,...x,...i,name:r.name,ref:d,onCheck:()=>r.onValueChange(i.value),onKeyDown:C(o=>{o.key==="Enter"&&o.preventDefault()}),onFocus:C(i.onFocus,()=>{v.current&&u.current?.click()})})})});Re.displayName=be;var Fa="RadioGroupIndicator",je=c.forwardRef((a,s)=>{const{__scopeRadioGroup:t,...n}=a,i=ye(t);return e.jsx(fe,{...i,...n,ref:s})});je.displayName=Fa;var Ne=ve,Ce=Re,Ma=je;const Se=c.forwardRef(({className:a,...s},t)=>e.jsx(Ne,{className:L("grid gap-2",a),...s,ref:t}));Se.displayName=Ne.displayName;const D=c.forwardRef(({className:a,...s},t)=>e.jsx(Ce,{ref:t,className:L("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),...s,children:e.jsx(Ma,{className:"flex items-center justify-center",children:e.jsx(ia,{className:"h-2.5 w-2.5 fill-current text-current"})})}));D.displayName=Ce.displayName;oe.init("awvJIls7xVUtlL1yt");const Z=[{name:"Jeddah Airport to Makkah Hotel",prices:{Sonata:250,Camry:250,"H1 Hyundai":300,"Hyundai Staria":350,GMC:400,Hiace:400}},{name:"Jeddah Airport to Jeddah Hotel",prices:{Sonata:200,Camry:200,"H1 Hyundai":250,"Hyundai Staria":270,GMC:250,Hiace:300}},{name:"Makkah Hotel to Madina Hotel",prices:{Sonata:500,Camry:500,"H1 Hyundai":600,"Hyundai Staria":650,GMC:800,Hiace:700}},{name:"Jeddah Airport to Madina Hotel",prices:{Sonata:550,Camry:550,"H1 Hyundai":700,"Hyundai Staria":750,GMC:1e3,Hiace:800}},{name:"Madina Airport to Madina Hotel",prices:{Sonata:150,Camry:150,"H1 Hyundai":200,"Hyundai Staria":220,GMC:250,Hiace:300}},{name:"Madina Hotel to Madina Airport",prices:{Sonata:100,Camry:100,"H1 Hyundai":150,"Hyundai Staria":170,GMC:200,Hiace:250}},{name:"Jeddah to Taif and Return",prices:{Sonata:1e3,Camry:1e3,"H1 Hyundai":1e3,"Hyundai Staria":1200,GMC:1500,Hiace:1500}},{name:"Makkah to Taif and Return",prices:{Sonata:400,Camry:400,"H1 Hyundai":500,"Hyundai Staria":600,GMC:700,Hiace:700}},{name:"Madina Hotel to Makkah Hotel",prices:{Sonata:500,Camry:500,"H1 Hyundai":600,"Hyundai Staria":700,GMC:800,Hiace:700}},{name:"Makkah Hotel to Jeddah Airport",prices:{Sonata:200,Camry:200,"H1 Hyundai":300,"Hyundai Staria":350,GMC:400,Hiace:400}}],_a=a=>{const s={Camry:"Camry",Sonata:"Sonata",H1:"H1 Hyundai",Hiace:"Hiace","GMC Yukon ":"GMC","Hyundai Staria":"Hyundai Staria",Staria:"Hyundai Staria","H1 Hyundai":"H1 Hyundai"};for(const[n,i]of Object.entries(s))if(a.includes(n))return i;return["Sonata","Camry","H1 Hyundai","Hyundai Staria","GMC","Hiace"].includes(a)?a:"Camry"},Q=[{id:0,name:"None",value:"none"},{id:1,name:"Umrah Premium",value:"essential"},{id:2,name:"Complete Hajj Journey",value:"hajj"},{id:3,name:"Umrah Express",value:"umrah"},{id:4,name:"Luxury Pilgrimage",value:"luxury"},{id:5,name:"Madina City Ziyarat",value:"historical"},{id:6,name:"Family Pilgrimage Package",value:"family"}],Ua=()=>{const[a]=De(),s=Ge(),t=a.get("cab")||"",n=a.get("category")||"",i=_a(t),[r,f]=c.useState({tripType:"",phoneNumber:"",email:"",preferredDate:null,packageType:"none",vehiclePreference:t,selectedRoute:""}),[h,x]=c.useState(!1),u=(o,m)=>{f(g=>({...g,[o]:m}))},d=o=>{const m=Z.find(g=>g.name===o);return m&&m.prices[i]||0},l=r.packageType!=="none",v=async o=>{if(o.preventDefault(),x(!0),!r.phoneNumber||!r.preferredDate||!r.email){alert("Please fill in all required fields: Phone Number, Email, and Preferred Date"),x(!1);return}if(!l&&(!r.tripType||!r.selectedRoute)){alert("Please select trip type and route"),x(!1);return}const m=l?"Included in Package":`${d(r.selectedRoute)} SAR`,g=Q.find(y=>y.value===r.packageType)?.name||"None",p=r.tripType==="one-way"?"One Way":"Round Trip",R=r.preferredDate?$(r.preferredDate,"dd MMMM yyyy"):"",P={booking_id:`BT${new Date().getTime().toString().slice(-6)}`,vehicle:t,route:r.selectedRoute,trip_type:p,preferred_date:R,package_name:g,price:m,phone:r.phoneNumber,email:r.email};try{await oe.send("service_xbv79li","template_opvt35m",P);const y=new URLSearchParams({vehicle:t,route:r.selectedRoute,trip_type:p,preferred_date:R,package_name:g,price:m,phone:r.phoneNumber,email:r.email,booking_id:P.booking_id});s(`/booking-confirmation?${y.toString()}`),f({tripType:"",phoneNumber:"",email:"",preferredDate:null,packageType:"none",vehiclePreference:t,selectedRoute:""})}catch(y){console.error("Failed to send email:",y),alert("There was an issue sending your booking confirmation. Please try again or contact support.")}finally{x(!1)}};return e.jsxs("main",{className:"min-h-screen bg-neutral-50",children:[e.jsx(Le,{}),e.jsx("section",{className:"pt-32 pb-12 px-6 bg-gradient-to-br from-neutral-900 via-neutral-800 to-neutral-900",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:["Book Your ",e.jsx("span",{className:"text-gold",children:"Cab"})]}),e.jsxs("p",{className:"text-xl text-neutral-200",children:["Selected: ",e.jsx("strong",{className:"text-gold",children:t})," • Category: ",e.jsx("strong",{className:"text-gold",children:n})]})]})}),e.jsx("section",{className:"py-12 px-6",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs(Oe,{className:"shadow-elegant border-0 rounded-2xl",children:[e.jsx(Ke,{className:"pb-6",children:e.jsxs(Be,{className:"text-2xl text-neutral-900 flex items-center gap-3",children:[e.jsx(W,{className:"w-6 h-6 text-gold"}),"Booking Details"]})}),e.jsx(Ue,{className:"p-8 space-y-8",children:e.jsxs("form",{onSubmit:v,className:"space-y-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs(N,{className:"text-base font-semibold text-neutral-700",children:["Trip Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(Se,{value:r.tripType,onValueChange:o=>u("tripType",o),className:"flex gap-6",disabled:l,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(D,{value:"one-way",id:"one-way"}),e.jsx(N,{htmlFor:"one-way",className:"font-medium",children:"One Way"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(D,{value:"two-way",id:"two-way"}),e.jsx(N,{htmlFor:"two-way",className:"font-medium",children:"Round Trip"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(N,{className:"text-base font-semibold text-neutral-700 flex items-center gap-2",children:[e.jsx(W,{className:"w-4 h-4 text-gold"}),"Select Route ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(U,{value:r.selectedRoute,onValueChange:o=>u("selectedRoute",o),disabled:l,children:[e.jsx(V,{className:"h-12 border-neutral-200 focus:border-gold focus:ring-gold rounded-xl",children:e.jsx(q,{placeholder:"Choose your route"})}),e.jsx(J,{children:Z.map((o,m)=>e.jsx(X,{value:o.name,children:o.name},m))})]}),r.selectedRoute&&!l&&e.jsxs("div",{className:"flex items-center gap-2 mt-2 p-3 bg-green-50 rounded-xl",children:[e.jsx(ca,{className:"w-4 h-4 text-green-600"}),e.jsxs("span",{className:"text-green-800 font-medium",children:["Price for ",t,": ",e.jsxs("span",{className:"text-gold",children:[d(r.selectedRoute)," SAR"]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(N,{htmlFor:"phone",className:"text-base font-semibold text-neutral-700 flex items-center gap-2",children:[e.jsx(qe,{className:"w-4 h-4 text-gold"}),"Phone Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(M,{id:"phone",type:"tel",placeholder:"+966 5X XXX XXXX",value:r.phoneNumber,onChange:o=>u("phoneNumber",o.target.value),className:"h-12 border-neutral-200 focus:border-gold focus:ring-gold rounded-xl"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(N,{htmlFor:"email",className:"text-base font-semibold text-neutral-700 flex items-center gap-2",children:[e.jsx(na,{className:"w-4 h-4 text-gold"}),"Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(M,{id:"email",type:"email",placeholder:"example@email.com",value:r.email,onChange:o=>u("email",o.target.value),className:"h-12 border-neutral-200 focus:border-gold focus:ring-gold rounded-xl"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(N,{className:"text-base font-semibold text-neutral-700 flex items-center gap-2",children:[e.jsx(Y,{className:"w-4 h-4 text-gold"}),"Preferred Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(ta,{children:[e.jsx(ra,{asChild:!0,children:e.jsxs(z,{variant:"outline",className:L("h-12 w-full justify-start text-left font-normal border-neutral-200 focus:border-gold focus:ring-gold rounded-xl",!r.preferredDate&&"text-muted-foreground"),children:[e.jsx(Y,{className:"mr-2 h-4 w-4 text-gold"}),r.preferredDate?$(r.preferredDate,"PPP"):"Pick a date"]})}),e.jsx(oa,{className:"w-auto p-0",children:e.jsx(sa,{mode:"single",selected:r.preferredDate,onSelect:o=>u("preferredDate",o),initialFocus:!0,disabled:o=>o<new Date})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{className:"text-base font-semibold text-neutral-700",children:"Package Type"}),e.jsxs(U,{value:r.packageType,onValueChange:o=>u("packageType",o),children:[e.jsx(V,{className:"h-12 border-neutral-200 focus:border-gold focus:ring-gold rounded-xl",children:e.jsx(q,{placeholder:"Choose package"})}),e.jsx(J,{children:Q.map(o=>e.jsx(X,{value:o.value,children:o.name},o.id))})]}),l&&e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Route and trip type are disabled when a package is selected."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{className:"text-base font-semibold text-neutral-700",children:"Vehicle"}),e.jsx(M,{value:r.vehiclePreference,onChange:o=>u("vehiclePreference",o.target.value),placeholder:"Vehicle preference",className:"h-12 border-neutral-200 focus:border-gold focus:ring-gold rounded-xl",disabled:!0}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Selected: ",t," → Matched as: ",i]})]}),e.jsxs("div",{className:"pt-6 border-t border-neutral-200",children:[e.jsx(z,{type:"submit",size:"lg",className:"w-full bg-gold hover:bg-gold-dark text-white text-lg font-semibold h-14 rounded-xl",disabled:h,children:h?"Sending...":"Submit Booking Request"}),e.jsx("p",{className:"text-sm text-muted-foreground text-center mt-3",children:"You will receive a confirmation call and email within 30 minutes"})]})]})})]})})}),e.jsx(Ve,{})]})};export{Ua as default};
